## O que é Box
---

> Para entender porque estamos falando de Box aqui veja o arquivo [6.POO_em_Rust.md](6.POO_em_Rust.md) onde a ideia é armazenar tipos diverentes em um array dinâmico mas utilizando o Box ja que esse é ideal para armazenar valores com tamanhos dinâmicos.

**✅ 2. O que é Box?**  
>Box<T> é um ponteiro inteligente que aloca um valor no heap em vez da stack.  
>**🧠 Para que serve?**
> - Armazenar dados grandes ou de tamanho desconhecido em tempo de compilação
> - Armazenar tipos dinâmicos, como Box<dyn Trait>
> - Mover valores sem copiar
> - Evitar recursão infinita em structs recursivas (como em árvores)


🧪 Exemplo simples:
```rust 

let valor = Box::new(42);      // Aloca 42 no heap
println!("{}", *valor);        // Desreferencia

//Exemplo com Trait, Sem Box:
let lista: Vec<dyn Crud>;  // ❌ ERRO: tamanho desconhecido

//Com Box:

let lista: Vec<Box<dyn Crud>> = vec![
    Box::new(Produto { nome: "X".to_string(), preco: 1.0 }),
    Box::new(Cliente { nome: "Y".to_string(), email: "x@y.com" }),
];

```

> 🧠 Por quê?
dyn Trait tem tamanho indefinido, mas Box<dyn Trait> tem tamanho fixo (um ponteiro) — e isso resolve o problema de armazenamento.

**✅ 1. Comparação com JavaScript:**

> Passar &dyn Trait para uma função em Rust é como passar um objeto com métodos para uma função em JavaScript:
```js
function executar(obj) {
  obj.read();
  obj.update();
}
```
> Em Rust: executar_crud(entidade: &dyn Crud) faz isso com segurança de tipo e desempenho melhor

