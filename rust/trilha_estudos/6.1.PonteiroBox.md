## O que Ã© Box
---

> Para entender porque estamos falando de Box aqui veja o arquivo [6.POO_em_Rust.md](6.POO_em_Rust.md) onde a ideia Ã© armazenar tipos diverentes em um array dinÃ¢mico mas utilizando o Box ja que esse Ã© ideal para armazenar valores com tamanhos dinÃ¢micos.

**âœ… 2. O que Ã© Box?**  
>Box<T> Ã© um ponteiro inteligente que aloca um valor no heap em vez da stack.  
>**ğŸ§  Para que serve?**
> - Armazenar dados grandes ou de tamanho desconhecido em tempo de compilaÃ§Ã£o
> - Armazenar tipos dinÃ¢micos, como Box<dyn Trait>
> - Mover valores sem copiar
> - Evitar recursÃ£o infinita em structs recursivas (como em Ã¡rvores)


ğŸ§ª Exemplo simples:
```rust 

let valor = Box::new(42);      // Aloca 42 no heap
println!("{}", *valor);        // Desreferencia

//Exemplo com Trait, Sem Box:
let lista: Vec<dyn Crud>;  // âŒ ERRO: tamanho desconhecido

//Com Box:

let lista: Vec<Box<dyn Crud>> = vec![
    Box::new(Produto { nome: "X".to_string(), preco: 1.0 }),
    Box::new(Cliente { nome: "Y".to_string(), email: "x@y.com" }),
];

```

> ğŸ§  Por quÃª?
dyn Trait tem tamanho indefinido, mas Box<dyn Trait> tem tamanho fixo (um ponteiro) â€” e isso resolve o problema de armazenamento.

**âœ… 1. ComparaÃ§Ã£o com JavaScript:**

> Passar &dyn Trait para uma funÃ§Ã£o em Rust Ã© como passar um objeto com mÃ©todos para uma funÃ§Ã£o em JavaScript:
```js
function executar(obj) {
  obj.read();
  obj.update();
}
```
> Em Rust: executar_crud(entidade: &dyn Crud) faz isso com seguranÃ§a de tipo e desempenho melhor

